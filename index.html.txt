<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NPC ì‚¬ìŠ´ ì‹œë®¬ë ˆì´ì…˜ ë°ëª¨</title>
  <style>
    body {
      background: #f0f0f0;
      text-align: center;
      font-family: sans-serif;
      margin: 0; padding: 20px;
    }
    #npc-container {
      display: inline-block;
      position: relative;
      margin: 20px;
    }
    #npc {
      max-width: 300px; /* ì‚¬ìŠ´ ì´ë¯¸ì§€ í¬ê¸° ì¡°ì ˆ */
    }
    /* ì‚¬ê³¼ ì´ëª¨ì§€ ìŠ¤íƒ€ì¼ */
    .apple {
      position: absolute;
      font-size: 24px; /* ì‚¬ê³¼ í¬ê¸° (ì´ëª¨ì§€ í¬ê¸°) */
      /* ì´ˆê¸° ìœ„ì¹˜: ëŒ€ëµ ë¿” ë¶€ë¶„ (ì¢Œìš° ìœ„ì¹˜ëŠ” ì´ë¯¸ì§€ì— ë§ê²Œ ì¡°ì • í•„ìš”) */
    }
    #apple1 { top: 0%; left: 20%; }  /* ì™¼ìª½(ë˜ëŠ” ì•ìª½) ë¿”ì˜ ì‚¬ê³¼ */
    #apple2 { top: 0%; left: 75%; }  /* ì˜¤ë¥¸ìª½(ë˜ëŠ” ë’¤ìª½) ë¿”ì˜ ì‚¬ê³¼ */
    /* ëŒ€ì‚¬ í‘œì‹œ ì˜ì—­ ìŠ¤íƒ€ì¼ */
    #dialogue {
      background: #fff;
      border: 2px solid #ccc;
      border-radius: 8px;
      padding: 15px;
      width: 80%;
      max-width: 400px;
      margin: 10px auto;
      min-height: 50px;
      line-height: 1.4;
    }
    /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    #next-btn {
      background: #4CAF50;
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      padding: 10px 20px;
      cursor: pointer;
    }
    #next-btn:disabled {
      background: #aaa;
      cursor: not-allowed;
    }
    /* ê¼¬ë¦¬ í”ë“¤ê¸° ì• ë‹ˆë©”ì´ì…˜ (ì „ì²´ ì´ë¯¸ì§€ ì¢Œìš° íšŒì „) */
    @keyframes tailWag {
      0%   { transform: rotate(0deg); }
      25%  { transform: rotate(10deg); }
      50%  { transform: rotate(0deg); }
      75%  { transform: rotate(-10deg); }
      100% { transform: rotate(0deg); }
    }
    /* ë¨¸ë¦¬ ë„ë•ì„ ì• ë‹ˆë©”ì´ì…˜ (ì „ì²´ ì´ë¯¸ì§€ ì•ë’¤ íšŒì „) */
    @keyframes headNod {
      0%   { transform: rotate(0deg); }
      50%  { transform: rotate(10deg); }  /* ì‚´ì§ ì•ìœ¼ë¡œ ìˆ™ì´ê¸° */
      100% { transform: rotate(0deg); }
    }
    /* ì‚¬ê³¼ í”ë“¤ê¸° ì• ë‹ˆë©”ì´ì…˜ (ì´ëª¨ì§€ íšŒì „) */
    @keyframes appleShake {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(15deg); }
      75% { transform: rotate(-15deg); }
    }
    /* ì‚¬ê³¼ ë–¨ì–´ëœ¨ë¦¬ê¸° ì• ë‹ˆë©”ì´ì…˜ (ì•„ë˜ë¡œ ì´ë™ í›„ íˆ¬ëª…) */
    @keyframes appleDrop {
      0%   { opacity: 1; }
      100% { top: 90%; opacity: 0; }
    }
  </style>
</head>
<body>

  <!-- NPC ìºë¦­í„° ë° ì‚¬ê³¼ ìš”ì†Œ -->
  <div id="npc-container">
    <img id="npc" src="deer.png" alt="ì‚¬ìŠ´ NPC">
    <span class="apple" id="apple1">ğŸ</span>
    <span class="apple" id="apple2">ğŸ</span>
  </div>

  <!-- ëŒ€ì‚¬ í‘œì‹œ ì˜ì—­ -->
  <p id="dialogue">â€» ë²„íŠ¼ì„ ëˆŒëŸ¬ ëŒ€í™”ë¥¼ ì‹œì‘í•˜ì„¸ìš”.</p>

  <!-- ëŒ€í™” ì§„í–‰ ë²„íŠ¼ -->
  <button id="next-btn">ë‹¤ìŒ â–¶</button>

  <script>
    // NPC ëŒ€ì‚¬ ëª©ë¡ (í•„ìš”ì— ë”°ë¼ ìˆ˜ì • ê°€ëŠ¥)
    const dialogues = [
      "ì•ˆë…•í•˜ì„¸ìš”. ì‹ ì„ ì •ì›ì— ì˜¤ì‹  ê±¸ í™˜ì˜í•©ë‹ˆë‹¤.
      "ì €ëŠ” ê°€êµ¬ì •ë ¹ 'ê³ ì œ'ì…ë‹ˆë‹¤.",
      "ì‹ ì„ ì •ì›ì˜ ì¥ì¸ë“¤ì€ ìì—°ì˜ ì˜í˜¼ì„ ê¹ƒë“¤ê²Œ í•˜ëŠ” ì‹ ë¹„í•œ ê¸°ìˆ ë¡œ ê°€êµ¬ë¥¼ ì œì‘í•´ ì™”ìŠµë‹ˆë‹¤.",
      "ê·¸ëŸ¬ë‚˜ ì˜¤ëœì„¸ì›”ì´ í˜ëŸ¬, ê·¸ ìƒëª…ë ¥ì´ ì ë“¤ì–´ ì‚¬ë¼ì ¸ ë²„ë ¸ìŠµë‹ˆë‹¤.",
      "ë‹¹ì‹ ì€ ì´ ì‹ ì„ ì •ì› ì¥ì¸ì˜ ë§ˆì§€ë§‰ í›„ì†ì´ì, ê°€êµ¬ì— ìˆ¨ê²¨ì§„ ìƒëª…ë ¥ì„ ê¹¨ìš°ëŠ” 'ê°ì„±ì'ì…ë‹ˆë‹¤",
      "ê°ì„±ìë‹˜, ê°€êµ¬ì— ë‹¹ì‹ ì˜ ì†ê¸¸ë¡œ ë´‰ì¸ëœ ì˜í˜¼ì„ ê¹¨ìš°ë©´, ìƒëª…ë ¥ì„ ë˜ì‚´ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
      "ë‹¹ì‹ ì€ ì ë“  ì˜í˜¼ì„ ê¹¨ì›Œ, ì‹ ë¹„í•œ ê¸°ìˆ ì˜ ë¹„ë°€ì„ ì•Œì•„ë‚¼ ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆê¹Œ?",
      "ë‚´ ë¿”ì˜ ìƒëª…ì‚¬ê³¼ê°€ ë‹¤ ë–¨ì–´ì§ˆë•Œê°€ì§€ ëª¨ë“  ê°€êµ¬ì˜ ì˜í˜¼ì„ ê¹¨ì›Œì£¼ì„¸ìš”."
      "ê·¸ë¦¬ê³  ìƒˆë¡œìš´ ê°€êµ¬ì— ì ë“  ìƒëª…ì‚¬ê³¼ë¥¼ êµ¬í•˜ì—¬, ê³ ì œì˜ ë¿”ì— ë‹¬ì•„ì£¼ì„¸ìš”",
      "ì§€ë„ë¥¼ ë”°ë¼, ê° ê°€êµ¬ì— ìˆ¨ê²¨ì§„ ìˆ¨ê²°ì„ ì°¾ì•„ì£¼ì„¸ìš”."
      "ê°ì„±ìë‹˜ì—ê²Œ ì†ê¸¸ì— ì‹ ì„ ì •ì›ì˜ ìƒëª…ë ¥ì´ ì‚´ì•„ë‚˜ê¸¸ ê¸°ëŒ€í•©ë‹ˆë‹¤."

    ];

    // ìš”ì†Œ ì°¸ì¡° ê°€ì ¸ì˜¤ê¸°
    const npcImg = document.getElementById("npc");
    const apple1 = document.getElementById("apple1");
    const apple2 = document.getElementById("apple2");
    const dialogueP = document.getElementById("dialogue");
    const nextButton = document.getElementById("next-btn");

    let index = -1;  // í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ëŒ€ì‚¬ ì¸ë±ìŠ¤ (-1ì—ì„œ ì‹œì‘í•˜ì—¬ í´ë¦­ ì‹œ 0ë¶€í„° ì‹œì‘)

    // ê¼¬ë¦¬ í”ë“¤ê¸° ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜
    function tailWag() {
      // ì´ë¯¸ì§€ íšŒì „ì¶•ì„ ìƒë‹¨ ì¤‘ì•™ìœ¼ë¡œ (ë¿” ë¶€ê·¼)
      npcImg.style.transformOrigin = "50% 0%";
      // ì• ë‹ˆë©”ì´ì…˜ ì ìš©
      npcImg.style.animation = "tailWag 0.6s ease 1";
      // ì• ë‹ˆë©”ì´ì…˜ ì¢…ë£Œ í›„ ì´ˆê¸°í™”
      setTimeout(() => {
        npcImg.style.animation = "";
      }, 600);
    }

    // ë¨¸ë¦¬ ë„ë•ì„ ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜
    function headNod() {
      npcImg.style.transformOrigin = "50% 100%"; // íšŒì „ì¶•ì„ í•˜ë‹¨ ì¤‘ì•™ìœ¼ë¡œ (ë°œ ë°‘)
      npcImg.style.animation = "headNod 0.5s ease 1";
      setTimeout(() => {
        npcImg.style.animation = "";
      }, 500);
    }

    // ì‚¬ê³¼ í”ë“¤ê¸° ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜ (ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ê³¼ ìš”ì†Œë¥¼ ë°›ìŒ)
    function shakeApple(appleElem) {
      appleElem.style.animation = "appleShake 0.5s ease 1";
      setTimeout(() => {
        appleElem.style.animation = "";
      }, 500);
    }

    // ì‚¬ê³¼ ë–¨ì–´ëœ¨ë¦¬ê¸° ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜
    function dropApple(appleElem) {
      appleElem.style.animation = "appleDrop 0.8s ease-out 1 forwards";
      // ì• ë‹ˆë©”ì´ì…˜ ëë‚œ í›„ ì™„ì „íˆ ì œê±° ë˜ëŠ” ìˆ¨ê¹€
      setTimeout(() => {
        appleElem.style.display = "none";  // í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ê²Œ ì²˜ë¦¬
      }, 800);
    }

    // "ë‹¤ìŒ" ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    nextButton.addEventListener("click", function() {
      // ë‹¤ìŒ ëŒ€ì‚¬ë¡œ ë„˜ì–´ê°€ê¸°
      index++;
      if (index < dialogues.length) {
        // ëŒ€ì‚¬ í‘œì‹œ ì—…ë°ì´íŠ¸
        dialogueP.textContent = dialogues[index];
      } else {
        // ëª¨ë“  ëŒ€ì‚¬ë¥¼ ë§ˆì¹œ ê²½ìš° ë²„íŠ¼ ë¹„í™œì„±í™” í›„ ì¢…ë£Œ
        dialogueP.textContent = "ëŒ€í™” ì¢…ë£Œ!";
        nextButton.disabled = true;
        return;
      }

      // í˜„ì¬ ëŒ€ì‚¬ì— ë”°ë¼ ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰
      switch(index) {
        case 0:
          // ì²« ë§Œë‚¨ ì¸ì‚¬: ì‚´ì§ ê¼¬ë¦¬ í”ë“¤ë©° ë°˜ê¸°ê¸°
          tailWag();
          break;
        case 2:
          // í–‰ë³µí•œ í‘œí˜„: ê¼¬ë¦¬ í”ë“¤ê¸°
          tailWag();
          break;
        case 3:
          // ì´í•´í–ˆë‹¤ëŠ” í‘œì‹œ: ê³ ê°œ ë„ë•ì´ê¸°
          headNod();
          break;
        case 4:
          // ë†€ë¼ì„œ ì‚¬ê³¼ í•˜ë‚˜ ë–¨ì–´ëœ¨ë¦¬ê¸°
          dropApple(apple1);
          break;
        case 5:
          // ë‚¨ì€ ì‚¬ê³¼ ì‚´ì§ í”ë“¤ê¸°
          shakeApple(apple2);
          break;
        case 6:
          // ë‘ë²ˆì§¸ ì‚¬ê³¼ë„ ë–¨ì–´ëœ¨ë¦¬ê¸°
          dropApple(apple2);
          break;
        case 8:
          // ë„ì›€ ìš”ì²­ (ê¸°ëŒ€ê°): ê¼¬ë¦¬ ì‚´ì§ í”ë“¤ê¸°
          tailWag();
          break;
        case 9:
          // ê°ì‚¬ ì¸ì‚¬: ê¼¬ë¦¬ í”ë“¤ê¸°
          tailWag();
          break;
        default:
          // í•´ë‹¹ì—†ìŒ (íŠ¹ì • ì• ë‹ˆë©”ì´ì…˜ ì—†ì´ ëŒ€ì‚¬ë§Œ í‘œì‹œ)
          break;
      }

      // í´ë¦­ í›„ ë²„íŠ¼ ì ì‹œ ë¹„í™œì„±í™”í•˜ì—¬ ì—°ì† í´ë¦­ ë°©ì§€ (ì• ë‹ˆë©”ì´ì…˜ ì§„í–‰ ì‹œê°„ ë™ì•ˆ)
      nextButton.disabled = true;
      setTimeout(() => {
        nextButton.disabled = false;
      }, 800); // ìµœëŒ€ ì• ë‹ˆë©”ì´ì…˜ ì‹œê°„ì¸ 0.8ì´ˆ ë’¤ ì¬í™œì„±í™”
    });
  </script>
</body>
</html>

